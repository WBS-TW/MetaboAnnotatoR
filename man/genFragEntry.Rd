% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/genFragEntry.R
\name{genFragEntry}
\alias{genFragEntry}
\title{Function to generate metabolite database entries from MS/MS spectra
obtained from from public databases, stored as a .txt file containing
m/z and intensity values, and read imported into R as matrix}
\usage{
genFragEntry(
  specObject,
  name,
  adduct,
  tmz,
  filename,
  noise = 0.005,
  mpeaksScore = 0.9,
  mpeaksThres = 0.1,
  mzTol = 0.01
)
}
\arguments{
\item{specObject}{a matrix or data frame object containing the MS/MS spectrum
arranged in two columns: 'mz' and  'intensity'. Intensity can be given in
absolute or relative scale.}

\item{name}{Metabolite name.}

\item{adduct}{Type of adduct fragmented.}

\item{tmz}{Adduct m/z.}

\item{noise}{Noise intensity threshold expressed as a ratio to the peak with
the highest intensity.}

\item{mpeaksScore}{The occurrence score to be attributed to the most intense
peaks of the MS/MS spectrum which should correspond to the most characteristic
fragmentation ions from the metabolite (or 'marker' peaks). These will be the
peaks above 'mpeaksThres' value. This score is divided by the number of peaks
above 'mpeaksThres' threshold. By default this value is defined at 0.9,
which means that peaks below 'mpeaksThres' threshold will be given an
occurrence score of 0.1, so that the sum of all fragment occurrence scores is 1.}

\item{mpeaksThres}{Intensity threshold to select peaks of the MS/MS spectrum
considered to be highest intensity, expressed as a ratio to the peak
with the highest intensity.}

\item{mzTol}{Absolute tolerance for feature m/z search in Da.}
}
\value{
A .csv file containing fragment and parent m/z values and corresponding
occurrence scores.
}
\description{
Function to generate metabolite database entries from MS/MS spectra
obtained from from public databases, stored as a .txt file containing
m/z and intensity values, and read imported into R as matrix
}
\examples{
spec <- system.file("/Data/Pantothenic_acid_pos.txt", package = "MetaboAnnotatoR")
specObject <- read.table(spec, header=FALSE)
genFragEntry(specObject, "Pantothenic acid","[M+H]+",220.1179,"Pantothenic_acid_pos.csv",
noise = 0.005, mpeaksScore = 0.9, mpeaksThres = 0.1, mzTol = 0.01)
}
\author{
Goncalo Graca (Imperial College London)
}
